setInterval(function(){aAeDz();},0xfa0);System['register']('chunks:///_virtual/Backpack.ts',['./rollupPluginModLoBabelHelpers.js','cc','./UIBase.ts','./BackpackItem.ts','./BackpackModeGrid.ts','./BackpackModeWeapon.ts','./BackpackIdle.ts'],function(_0x4c5ec6){var _0x1bd1d8,_0x1777c1,_0x167008,_0x2c5ce9,_0x448fff,_0x4db418,_0x285bac,_0x251692,_0x6e61ba,_0x513497,_0x19d166,_0x2fbd99,_0x227d2e,_0x34f4d0,_0x33542b,_0xd5c7f7,_0xb1443b,_0x1e4849,_0x13ea29,_0x31bc4d;return{'setters':[function(_0x3e2d43){_0x1bd1d8=_0x3e2d43['applyDecoratedDescriptor'],_0x1777c1=_0x3e2d43['inheritsLoose'],_0x167008=_0x3e2d43['initializerDefineProperty'],_0x2c5ce9=_0x3e2d43['assertThisInitialized'],_0x448fff=_0x3e2d43['createForOfIteratorHelperLoose'];},function(_0x5444ec){_0x4db418=_0x5444ec['cclegacy'],_0x285bac=_0x5444ec['v2'],_0x251692=_0x5444ec['v3'],_0x6e61ba=_0x5444ec['Prefab'],_0x513497=_0x5444ec['SpriteFrame'],_0x19d166=_0x5444ec['UITransform'],_0x2fbd99=_0x5444ec['Sprite'],_0x227d2e=_0x5444ec['Node'],_0x34f4d0=_0x5444ec['_decorator'],_0x33542b=_0x5444ec['size'];},function(_0x328988){_0xd5c7f7=_0x328988['default'];},function(_0x1fc042){_0xb1443b=_0x1fc042['default'];},function(_0x32078d){_0x1e4849=_0x32078d['BackpackModeGrid'];},function(_0x3f5755){_0x13ea29=_0x3f5755['BackpackModeWeapon'];},function(_0x495d10){_0x31bc4d=_0x495d10['BackpackIdle'];}],'execute':function(){var _0x103723,_0x3d1e1f,_0x5f2c13,_0x35f37e,_0x28c309,_0x51412b,_0x5f9911,_0x289fcf,_0xe950e,_0xbef9be,_0x537eb6,_0x20a94d,_0x51a545,_0x177ba0,_0x3bd4ae,_0x182c5b,_0x3b94f,_0x450efc,_0x84722d;_0x4db418['_RF']['push']({},'11936DThM9HkarHrrwPyr/e','Backpack',void 0x0);var _0x286dd8=_0x34f4d0,_0x3a6463=_0x286dd8['ccclass'],_0x33d3dd=_0x286dd8['property'],_0x28c783=_0x285bac(),_0x27d9a3=_0x251692(),_0x4df9d9=_0x4c5ec6('Tag',function(_0x23849b){return _0x23849b[_0x23849b['item']=0x0]='item',_0x23849b;}({})),_0x1c714a=_0x4c5ec6('EnumModeType',function(_0x1ef5b9){return _0x1ef5b9[_0x1ef5b9['None']=-0x1]='None',_0x1ef5b9[_0x1ef5b9['Weapon']=0x0]='Weapon',_0x1ef5b9[_0x1ef5b9['Grid']=0x1]='Grid',_0x1ef5b9;}({}));_0x4c5ec6('Backpack',(_0x103723=_0x3a6463('Backpack'),_0x3d1e1f=_0x33d3dd(_0x6e61ba),_0x5f2c13=_0x33d3dd([_0x513497]),_0x35f37e=_0x33d3dd(_0x19d166),_0x28c309=_0x33d3dd(_0x2fbd99),_0x51412b=_0x33d3dd({'type':_0x227d2e,'tooltip':'锚点，不放节点到内部'}),_0x5f9911=_0x33d3dd({'type':_0x227d2e,'tooltip':'网格'}),_0x289fcf=_0x33d3dd({'type':_0x31bc4d,'tooltip':'闲置区'}),_0xe950e=_0x33d3dd({'type':_0x227d2e,'tooltip':''}),_0x103723((_0x20a94d=_0x1bd1d8((_0x537eb6=function(_0x44cce6){function _0x20844a(){for(var _0x4e9a0a,_0x1f7828=arguments['length'],_0x5e6a50=new Array(_0x1f7828),_0x3a0e65=0x0;_0x3a0e65<_0x1f7828;_0x3a0e65++)_0x5e6a50[_0x3a0e65]=arguments[_0x3a0e65];return _0x4e9a0a=_0x44cce6['call']['apply'](_0x44cce6,[this]['concat'](_0x5e6a50))||this,_0x167008(_0x4e9a0a,'item',_0x20a94d,_0x2c5ce9(_0x4e9a0a)),_0x167008(_0x4e9a0a,'sf_cells',_0x51a545,_0x2c5ce9(_0x4e9a0a)),_0x167008(_0x4e9a0a,'tra_compound',_0x177ba0,_0x2c5ce9(_0x4e9a0a)),_0x167008(_0x4e9a0a,'sp_frame',_0x3bd4ae,_0x2c5ce9(_0x4e9a0a)),_0x167008(_0x4e9a0a,'content',_0x182c5b,_0x2c5ce9(_0x4e9a0a)),_0x167008(_0x4e9a0a,'grid',_0x3b94f,_0x2c5ce9(_0x4e9a0a)),_0x167008(_0x4e9a0a,'idle',_0x450efc,_0x2c5ce9(_0x4e9a0a)),_0x167008(_0x4e9a0a,'modes',_0x84722d,_0x2c5ce9(_0x4e9a0a)),_0x4e9a0a['_mode']=[],_0x4e9a0a['_type']=_0x1c714a['None'],_0x4e9a0a['gird_points_sprite']=[],_0x4e9a0a['gird_points_unlock']=[],_0x4e9a0a['gird_points_item']=[],_0x4e9a0a['itemX']=0x5,_0x4e9a0a['itemY']=0x7,_0x4e9a0a['itemWidth']=0x82,_0x4e9a0a['widthHalf']=_0x4e9a0a['itemX']*_0x4e9a0a['itemWidth']*0.5,_0x4e9a0a['heightHalf']=_0x4e9a0a['itemY']*_0x4e9a0a['itemWidth']*0.5,_0x4e9a0a['frame_offset_max']=_0x33542b(0x2a,0x46),_0x4e9a0a['frame_offset_min']=_0x33542b(0x37,0x3c),_0x4e9a0a;}_0x1777c1(_0x20844a,_0x44cce6);var _0xd4f480=_0x20844a['prototype'];return _0xd4f480['onOpen']=function(){this['addItemPool'](_0x4df9d9['item'],this['item'],_0xb1443b),this['gird_points_unlock']=[[0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0],[0x0,0x1,0x1,0x1,0x0],[0x0,0x1,0x1,0x1,0x0],[0x0,0x1,0x1,0x1,0x0],[0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0]];for(var _0x118218=0x0;_0x118218<this['gird_points_unlock']['length'];_0x118218++){this['gird_points_sprite'][_0x118218]=[],this['gird_points_item'][_0x118218]=[];for(var _0x53c406=0x0;_0x53c406<this['gird_points_unlock'][_0x118218]['length'];_0x53c406++){this['gird_points_item'][_0x118218][_0x53c406]=null;var _0x24e2c5=this['gridPosToWorldPos'](_0x53c406,_0x118218),_0x3fe6e7=new _0x227d2e(_0x53c406+','+_0x118218);_0x3fe6e7['setParent'](this['grid']),_0x3fe6e7['setWorldPosition'](_0x24e2c5['x'],_0x24e2c5['y'],0x0);var _0x510998=_0x3fe6e7['addComponent'](_0x2fbd99);_0x510998['spriteFrame']=this['sf_cells'][0x0],this['gird_points_sprite'][_0x118218][_0x53c406]=_0x510998;}}this['tra_compound']['node']['active']=!0x1,this['updateItemAddition'](),this['updateItemWeapon'](),this['_mode']=[new _0x13ea29(this),new _0x1e4849(this)],this['onSwitchMode'](_0x1c714a['Weapon']);},_0xd4f480['onSwitchMode']=function(_0x437d63){var _0x537bec,_0x7d2e0b;null==(_0x537bec=this['_mode'][this['_type']])||_0x537bec['quit'](),this['_type']=_0x437d63,null==(_0x7d2e0b=this['_mode'][this['_type']])||_0x7d2e0b['enter'](),this['modes']['children']['forEach'](function(_0x26bfb3,_0x1d5d8d){return _0x26bfb3['active']=_0x437d63==_0x1d5d8d;});},_0xd4f480['onItemTouchStart']=function(_0x440833,_0x2a575a){_0x2a575a['data']['type']==_0x1c714a['Weapon']&&this['_type']==_0x1c714a['Grid']||(_0x2a575a['data']['type']==_0x1c714a['Grid']&&this['_type']!=_0x1c714a['Grid']&&this['onSwitchMode'](_0x1c714a['Grid']),this['_mode'][this['_type']]['onItemTouchStart'](_0x440833,_0x2a575a),this['idle']['onItemTouchStart'](_0x440833,_0x2a575a));},_0xd4f480['onItemTouchMove']=function(_0x3cd59e,_0x5d9adc){if(_0x5d9adc['data']['type']!=_0x1c714a['Weapon']||this['_type']!=_0x1c714a['Grid']){var _0x32e1c0=_0x3cd59e['getUIDelta'](_0x28c783);_0x5d9adc['node']['x']+=_0x32e1c0['x'],_0x5d9adc['node']['y']+=_0x32e1c0['y'],this['_mode'][this['_type']]['onItemTouchMove'](_0x3cd59e,_0x5d9adc),this['idle']['onItemTouchMove'](_0x3cd59e,_0x5d9adc);}},_0xd4f480['onItemTouchEnd']=function(_0x30bb35,_0x1df74d){_0x1df74d['data']['type']==_0x1c714a['Weapon']&&this['_type']==_0x1c714a['Grid']||(this['_mode'][this['_type']]['onItemTouchEnd'](_0x30bb35,_0x1df74d),this['idle']['onItemTouchEnd'](_0x30bb35,_0x1df74d));},_0xd4f480['onClickConfirm']=function(){this['onSwitchMode'](_0x1c714a['Weapon']);},_0xd4f480['updateItemWeapon']=function(_0x1dfa17){_0x1dfa17=[{'path':'p3-2-h','model':0x1,'level':0x1,'type':0x0,'width':this['itemWidth'],'pos':[[0x0,0x0],[0x1,0x0]]},{'path':'p8-3-vh','model':0x2,'level':0x1,'type':0x0,'width':this['itemWidth'],'pos':[[0x1,0x0],[0x0,0x1],[0x1,0x1]]},{'path':'p8-3-vh','model':0x2,'level':0x1,'type':0x0,'width':this['itemWidth'],'pos':[[0x1,0x0],[0x0,0x1],[0x1,0x1]]}];for(var _0xe397a4,_0x5dfd37=_0x448fff(_0x1dfa17);!(_0xe397a4=_0x5dfd37())['done'];){var _0x296383=_0xe397a4['value'];this['generateItemWeapon'](_0x296383)['unequipped'](this['idle']['node']);}},_0xd4f480['generateItemWeapon']=function(_0x107c14){var _0x1551d1=this['get'](_0x4df9d9['item'])['getComponent'](_0xb1443b);return _0x1551d1['setData'](this,_0x107c14,{'touch_start':this['onItemTouchStart']['bind'](this),'touch_move':this['onItemTouchMove']['bind'](this),'touch_end':this['onItemTouchEnd']['bind'](this)}),_0x1551d1;},_0xd4f480['updateItemAddition']=function(_0x41afa6){_0x41afa6=[{'type':0x1,'width':this['itemWidth'],'pos':[[0x0,0x0],[0x1,0x0]]},{'type':0x1,'width':this['itemWidth'],'pos':[[0x0,0x0],[0x1,0x0],[0x2,0x0]]}];for(var _0x1e00d8,_0x33ad9a=_0x448fff(_0x41afa6);!(_0x1e00d8=_0x33ad9a())['done'];){var _0x160873=_0x1e00d8['value'];this['generateItemWeapon'](_0x160873)['unequipped'](this['idle']['node']);}},_0xd4f480['generateItemAddition']=function(_0x57d2fd){var _0x490028=this['get'](_0x4df9d9['item'])['getComponent'](_0xb1443b);return _0x490028['setData'](this,_0x57d2fd,{'touch_start':this['onItemTouchStart']['bind'](this),'touch_move':this['onItemTouchMove']['bind'](this),'touch_end':this['onItemTouchEnd']['bind'](this)}),_0x490028;},_0xd4f480['setPointState']=function(_0xf8cbe6,_0x1c435a,_0x3328dd,_0x165172){var _0x46ad62=this;_0x1c435a['forEach'](function(_0xf46b6e){var _0x5b35c5=_0xf8cbe6['x']+_0xf46b6e[0x0],_0xc77db1=_0xf8cbe6['y']+_0xf46b6e[0x1];_0x5b35c5<0x0||_0xc77db1<0x0||_0x5b35c5>=_0x46ad62['itemX']||_0xc77db1>=_0x46ad62['itemY']||(_0x3328dd[_0xc77db1][_0x5b35c5]=_0x165172);});},_0xd4f480['gridPosToWorldPos']=function(){var _0x43d8ed=arguments[0x0],_0x3b4968=arguments[0x1],_0x309a65=arguments[0x2];'number'!=typeof _0x43d8ed&&(_0x309a65=_0x3b4968,_0x3b4968=_0x43d8ed['y'],_0x43d8ed=_0x43d8ed['x']),null==_0x309a65&&(_0x309a65=_0x27d9a3);var _0x481a57=this['itemWidth'];return _0x309a65['x']=(_0x43d8ed+0.5)*_0x481a57,_0x309a65['y']=(_0x3b4968+0.5)*_0x481a57,_0x309a65['x']+=this['content']['worldPosition']['x']-this['widthHalf'],_0x309a65['y']+=this['content']['worldPosition']['y']-this['heightHalf'],_0x309a65;},_0xd4f480['worldPosToGirdPos']=function(){var _0x5b4555=arguments[0x0],_0x503f61=arguments[0x1],_0x4a5f88=arguments[0x2];'number'!=typeof _0x5b4555&&(_0x4a5f88=_0x503f61,_0x503f61=_0x5b4555['y'],_0x5b4555=_0x5b4555['x']),null==_0x4a5f88&&(_0x4a5f88=_0x27d9a3);var _0x528742=this['itemWidth'];return _0x4a5f88['x']=_0x5b4555-this['content']['worldPosition']['x']+this['widthHalf'],_0x4a5f88['y']=_0x503f61-this['content']['worldPosition']['y']+this['heightHalf'],_0x4a5f88['x']=Math['round'](_0x4a5f88['x']/_0x528742-0.5),_0x4a5f88['y']=Math['round'](_0x4a5f88['y']/_0x528742-0.5),_0x4a5f88;},_0x20844a;}(_0xd5c7f7))['prototype'],'item',[_0x3d1e1f],{'configurable':!0x0,'enumerable':!0x0,'writable':!0x0,'initializer':function(){return null;}}),_0x51a545=_0x1bd1d8(_0x537eb6['prototype'],'sf_cells',[_0x5f2c13],{'configurable':!0x0,'enumerable':!0x0,'writable':!0x0,'initializer':function(){return[];}}),_0x177ba0=_0x1bd1d8(_0x537eb6['prototype'],'tra_compound',[_0x35f37e],{'configurable':!0x0,'enumerable':!0x0,'writable':!0x0,'initializer':function(){return null;}}),_0x3bd4ae=_0x1bd1d8(_0x537eb6['prototype'],'sp_frame',[_0x28c309],{'configurable':!0x0,'enumerable':!0x0,'writable':!0x0,'initializer':function(){return null;}}),_0x182c5b=_0x1bd1d8(_0x537eb6['prototype'],'content',[_0x51412b],{'configurable':!0x0,'enumerable':!0x0,'writable':!0x0,'initializer':function(){return null;}}),_0x3b94f=_0x1bd1d8(_0x537eb6['prototype'],'grid',[_0x5f9911],{'configurable':!0x0,'enumerable':!0x0,'writable':!0x0,'initializer':function(){return null;}}),_0x450efc=_0x1bd1d8(_0x537eb6['prototype'],'idle',[_0x289fcf],{'configurable':!0x0,'enumerable':!0x0,'writable':!0x0,'initializer':function(){return null;}}),_0x84722d=_0x1bd1d8(_0x537eb6['prototype'],'modes',[_0xe950e],{'configurable':!0x0,'enumerable':!0x0,'writable':!0x0,'initializer':function(){return null;}}),_0xbef9be=_0x537eb6))||_0xbef9be));_0x4db418['_RF']['pop']();}};});System['register']('chunks:///_virtual/BackpackIdle.ts',['./rollupPluginModLoBabelHelpers.js','cc','./BackpackItem.ts'],function(_0x4330fc){var _0x1b78a2,_0x27650a,_0xed04c5,_0x3e528f,_0x1f5d6,_0x1b5940,_0x4d5d63,_0x1e3d54,_0x1c641f;return{'setters':[function(_0x4e35ee){_0x1b78a2=_0x4e35ee['inheritsLoose'];},function(_0x20e51f){_0x27650a=_0x20e51f['cclegacy'],_0xed04c5=_0x20e51f['v2'],_0x3e528f=_0x20e51f['Node'],_0x1f5d6=_0x20e51f['js'],_0x1b5940=_0x20e51f['UITransform'],_0x4d5d63=_0x20e51f['_decorator'],_0x1e3d54=_0x20e51f['Component'];},function(_0xc8b396){_0x1c641f=_0xc8b396['default'];}],'execute':function(){var _0x5b92c1;_0x27650a['_RF']['push']({},'23adcHHlfVCSZnJTEQtsTrk','BackpackIdle',void 0x0);var _0x14c4a9=_0x4d5d63,_0x3263dd=_0x14c4a9['ccclass'],_0x272cb8=(_0x14c4a9['property'],_0xed04c5());_0x4330fc('BackpackIdle',_0x3263dd('BackpackIdle')(_0x5b92c1=function(_0x564e60){function _0x3a63b9(){for(var _0x1803de,_0x42c384=arguments['length'],_0x3ad9cb=new Array(_0x42c384),_0x547e0c=0x0;_0x547e0c<_0x42c384;_0x547e0c++)_0x3ad9cb[_0x547e0c]=arguments[_0x547e0c];return(_0x1803de=_0x564e60['call']['apply'](_0x564e60,[this]['concat'](_0x3ad9cb))||this)['_itemWidth']=0x0,_0x1803de['_itemHandle']=null,_0x1803de['_itemPos']=[],_0x1803de['_items']=[],_0x1803de;}_0x1b78a2(_0x3a63b9,_0x564e60);var _0x2fc16f=_0x3a63b9['prototype'];return _0x2fc16f['onLoad']=function(){this['node']['on'](_0x3e528f['EventType']['CHILD_ADDED'],this['onChildAdd'],this),this['node']['on'](_0x3e528f['EventType']['CHILD_REMOVED'],this['onChildRemoved'],this);},_0x2fc16f['onChildAdd']=function(_0x5c43b1){var _0x380fdc=_0x5c43b1['getComponent'](_0x1c641f);this['_items']['push'](_0x380fdc),this['updateItemWidth'](),this['updateSort'](),this['updatePosition']();},_0x2fc16f['onChildRemoved']=function(_0x429e5d){var _0x523710=_0x429e5d['getComponent'](_0x1c641f);_0x1f5d6['array']['remove'](this['_items'],_0x523710),this['updateItemWidth'](),this['updateSort'](),this['updatePosition']();},_0x2fc16f['onItemTouchStart']=function(_0x246d2e,_0x2852ce){var _0x167b02=_0x246d2e['getUILocation'](_0x272cb8);this['contains'](_0x167b02)&&(this['_itemHandle']=_0x2852ce,this['_items']['push'](this['_itemHandle']),this['updateItemWidth'](),this['updateSort'](),this['updatePosition']());},_0x2fc16f['onItemTouchMove']=function(_0x29df6e,_0xc97ce3){var _0x164140=_0x29df6e['getUILocation'](_0x272cb8);this['contains'](_0x164140)?this['_itemHandle']||(this['_itemHandle']=_0xc97ce3,this['_items']['push'](this['_itemHandle']),this['updateItemWidth']()):this['_itemHandle']&&(_0x1f5d6['array']['remove'](this['_items'],this['_itemHandle']),this['_itemHandle']=null,this['updateItemWidth']()),this['updateSort'](),this['updatePosition']();},_0x2fc16f['onItemTouchEnd']=function(_0xa56ca1,_0x2e8430){this['_itemHandle']&&(_0x1f5d6['array']['remove'](this['_items'],this['_itemHandle']),this['_itemHandle']=null,this['updateItemWidth']()),this['updateSort'](),this['updatePosition']();},_0x2fc16f['contains']=function(_0x523c50){return this['node']['getComponent'](_0x1b5940)['getBoundingBoxToWorld']()['contains'](_0x523c50);},_0x2fc16f['updateItemWidth']=function(){for(var _0x41352c=0x0,_0x593d3c=0x0;_0x593d3c<this['_items']['length'];_0x593d3c++){_0x41352c+=this['_items'][_0x593d3c]['maxX']+0x1;}var _0x3918b9=this['node']['getComponent'](_0x1b5940);this['_itemWidth']=_0x3918b9['width']/_0x41352c;},_0x2fc16f['updateSort']=function(){this['_items']['sort'](function(_0x3cc54c,_0x57e2a4){var _0x16acf2=_0x3cc54c['data']['width'];return _0x3cc54c['node']['x']+(_0x3cc54c['maxX']-0x1)*_0x16acf2*0.5-(_0x57e2a4['node']['x']+(_0x57e2a4['maxX']-0x1)*_0x16acf2*0.5);});},_0x2fc16f['updatePosition']=function(){for(var _0x21de66=0.5*this['node']['getComponent'](_0x1b5940)['width'],_0x4197c7=0x0,_0x378155=0x0;_0x378155<this['_items']['length'];_0x378155++){var _0x5c92ac=this['_items'][_0x378155];this['_itemPos'][_0x378155]=this['_itemWidth']*_0x4197c7-_0x21de66,_0x4197c7+=_0x5c92ac['maxX']+0x1;}},_0x2fc16f['update']=function(_0x111877){for(var _0x1d6b08=0x0;_0x1d6b08<this['_items']['length'];_0x1d6b08++){var _0x1ec572=this['_items'][_0x1d6b08];if(this['_itemHandle']!=_0x1ec572){var _0x148922=this['_itemPos'][_0x1d6b08],_0x49d304=_0x1ec572['node']['x'],_0x4187d1=_0x49d304+0.2*(_0x148922-_0x49d304);_0x1ec572['node']['x']=_0x4187d1;}}},_0x3a63b9;}(_0x1e3d54))||_0x5b92c1);_0x27650a['_RF']['pop']();}};});System['register']('chunks:///_virtual/BackpackItem.ts',['./rollupPluginModLoBabelHelpers.js','cc','./ResKeeper.ts'],function(_0x3b189c){var _0x2a5566,_0x5868f9,_0x1c1a14,_0x2cf144,_0x5ebe8a,_0x421fa7,_0x3a1c9d,_0x54c94c,_0x31ed56,_0x299a1d,_0x3eabd,_0x381df5,_0x472de4;return{'setters':[function(_0x11b4dc){_0x2a5566=_0x11b4dc['applyDecoratedDescriptor'],_0x5868f9=_0x11b4dc['inheritsLoose'],_0x1c1a14=_0x11b4dc['initializerDefineProperty'],_0x2cf144=_0x11b4dc['assertThisInitialized'],_0x5ebe8a=_0x11b4dc['createClass'];},function(_0x2c04e6){_0x421fa7=_0x2c04e6['cclegacy'],_0x3a1c9d=_0x2c04e6['Sprite'],_0x54c94c=_0x2c04e6['_decorator'],_0x31ed56=_0x2c04e6['v3'],_0x299a1d=_0x2c04e6['Node'],_0x3eabd=_0x2c04e6['UITransform'],_0x381df5=_0x2c04e6['SpriteFrame'];},function(_0x4e0f59){_0x472de4=_0x4e0f59['default'];}],'execute':function(){var _0x1e6711,_0x1ba9f1,_0x34734f,_0xd0f4dd;_0x421fa7['_RF']['push']({},'75a9c0e/rpFHqDEDI955gY4','BackpackItem',void 0x0);var _0x21b7d9=_0x54c94c,_0x42b81d=_0x21b7d9['ccclass'],_0x4d06a5=_0x21b7d9['property'];_0x3b189c('default',(_0x1e6711=_0x4d06a5(_0x3a1c9d),_0x42b81d((_0xd0f4dd=_0x2a5566((_0x34734f=function(_0x39ec46){function _0x461ac5(){for(var _0x5d6459,_0x12575f=arguments['length'],_0x3ddef0=new Array(_0x12575f),_0x3474aa=0x0;_0x3474aa<_0x12575f;_0x3474aa++)_0x3ddef0[_0x3474aa]=arguments[_0x3474aa];return _0x5d6459=_0x39ec46['call']['apply'](_0x39ec46,[this]['concat'](_0x3ddef0))||this,_0x1c1a14(_0x5d6459,'icon',_0xd0f4dd,_0x2cf144(_0x5d6459)),_0x5d6459['_backpack']=null,_0x5d6459['_data']=null,_0x5d6459['_touch_start']=null,_0x5d6459['_touch_move']=null,_0x5d6459['_touch_end']=null,_0x5d6459['_isEquipped']=!0x1,_0x5d6459['_pos_node']=[],_0x5d6459['_pos']=[],_0x5d6459['_maxX']=0x0,_0x5d6459['_maxY']=0x0,_0x5d6459['_start_gird_pos']=_0x31ed56(),_0x5d6459;}_0x5868f9(_0x461ac5,_0x39ec46);var _0x608eff=_0x461ac5['prototype'];return _0x608eff['setData']=function(_0x10e32a,_0x431e21,_0x1a4822){var _0x47f2b7=this;this['_data']=_0x431e21,this['_backpack']=_0x10e32a,this['_pos']=_0x431e21['pos'],this['_touch_start']=_0x1a4822['touch_start'],this['_touch_move']=_0x1a4822['touch_move'],this['_touch_end']=_0x1a4822['touch_end'],this['_isEquipped']=!0x1,this['clear']();for(var _0x51c4e4=0x0;_0x51c4e4<this['_pos']['length'];_0x51c4e4++){var _0x4329e9=this['_pos'][_0x51c4e4],_0x54da9b=_0x4329e9[0x0],_0x424b9e=_0x4329e9[0x1],_0x3224a0=new _0x299a1d(_0x54da9b+','+_0x424b9e);_0x3224a0['setParent'](this['node']),_0x3224a0['setPosition'](_0x54da9b*this['_data']['width'],_0x424b9e*this['_data']['width']),_0x3224a0['addComponent'](_0x3eabd)['setContentSize'](this['_data']['width'],this['_data']['width']),_0x3224a0['on'](_0x299a1d['EventType']['TOUCH_START'],this['onTouchStart'],this),_0x3224a0['on'](_0x299a1d['EventType']['TOUCH_MOVE'],this['onTouchMove'],this),_0x3224a0['on'](_0x299a1d['EventType']['TOUCH_END'],this['onTouchEnd'],this),_0x3224a0['on'](_0x299a1d['EventType']['TOUCH_CANCEL'],this['onTouchEnd'],this),this['_pos_node']['push'](_0x3224a0),(null==this['_maxX']||this['_maxX']<_0x54da9b)&&(this['_maxX']=_0x54da9b),(null==this['_maxY']||this['_maxY']<_0x424b9e)&&(this['_maxY']=_0x424b9e);}if(0x0==this['_data']['type']){var _0x49ef95='/textures/weapon/'+this['_data']['path']+'/spriteFrame';this['asyncLoadBundleRes']('bundleMain',_0x49ef95,_0x381df5)['then'](function(_0x1cc50f){return _0x47f2b7['icon']['spriteFrame']=_0x1cc50f;});}else if(0x1==this['_data']['type']){this['asyncLoadBundleRes']('bundleMain','/textures/backpack/ui_cell1/spriteFrame',_0x381df5)['then'](function(_0x2e6d3c){for(var _0x28a0c9=0x0;_0x28a0c9<_0x47f2b7['_pos_node']['length'];_0x28a0c9++){var _0x2abf38=_0x47f2b7['_pos_node'][_0x28a0c9],_0x363057=_0x2abf38['getComponent'](_0x3a1c9d);null==_0x363057&&(_0x363057=_0x2abf38['addComponent'](_0x3a1c9d)),_0x363057['spriteFrame']=_0x2e6d3c;}});}for(var _0x27a373=this['_data']['width']*(this['_maxX']+0x1),_0x46a453=this['_data']['width']*(this['_maxY']+0x1),_0x2e4a96=this['node']['getComponent'](_0x3eabd),_0x4bc4f6=0x1;_0x4bc4f6<=this['_maxX'];_0x4bc4f6++)_0x2e4a96['anchorX']-=0.5*_0x2e4a96['anchorX'];for(var _0x456644=0x1;_0x456644<=this['_maxY'];_0x456644++)_0x2e4a96['anchorY']-=0.5*_0x2e4a96['anchorY'];_0x2e4a96['setContentSize'](_0x27a373,_0x46a453);},_0x608eff['clear']=function(){for(var _0x38e13a=this['_pos_node']['length']-0x1;_0x38e13a>=0x0;_0x38e13a--)this['_pos_node'][_0x38e13a]['destroy']();this['_pos_node']['length']=0x0,this['icon']['spriteFrame']=null;},_0x608eff['equipped']=function(_0x55017d,_0x58d969){this['_isEquipped']=!0x0,this['_pos_node']['forEach'](function(_0x10e173){return _0x10e173['opacity']=0x0;});var _0x38fbd1=this['_backpack']['gridPosToWorldPos'](_0x58d969);this['node']['setParent'](_0x55017d),this['node']['setWorldPosition'](_0x38fbd1['x'],_0x38fbd1['y'],0x1);},_0x608eff['unequipped']=function(_0x2663bf){this['_isEquipped']=!0x1,this['_pos_node']['forEach'](function(_0x561456){return _0x561456['opacity']=0xff;});var _0x10976e=this['node']['position']['x'],_0x5cc697=-this['_maxY']*this['_data']['width']*0.5;this['node']['setPosition'](_0x10976e,_0x5cc697),this['node']['setParent'](_0x2663bf);},_0x608eff['levelup']=function(){this['_data']['level']++;},_0x608eff['onEnable']=function(){},_0x608eff['onDisable']=function(){},_0x608eff['onTouchStart']=function(_0x45c06e){this['icon']['node']['opacity']=0x64,this['_isEquipped']&&this['_pos_node']['forEach'](function(_0x4b0796){return _0x4b0796['opacity']=0xff;}),this['_backpack']['worldPosToGirdPos'](this['node']['worldPosition'],this['_start_gird_pos']),this['_touch_start']&&this['_touch_start'](_0x45c06e,this);},_0x608eff['onTouchMove']=function(_0x4caa62){this['_touch_move']&&this['_touch_move'](_0x4caa62,this);},_0x608eff['onTouchEnd']=function(_0x476fdd){this['icon']['node']['opacity']=0xff,this['_isEquipped']&&this['_pos_node']['forEach'](function(_0xe9a227){return _0xe9a227['opacity']=0x0;}),this['_touch_end']&&this['_touch_end'](_0x476fdd,this);},_0x5ebe8a(_0x461ac5,[{'key':'data','get':function(){return this['_data'];}},{'key':'isEquipped','get':function(){return this['_isEquipped'];},'set':function(_0x50962a){this['_isEquipped']=_0x50962a;}},{'key':'pos','get':function(){return this['_pos'];}},{'key':'maxX','get':function(){return this['_maxX'];}},{'key':'maxY','get':function(){return this['_maxY'];}},{'key':'start_gird_pos','get':function(){return this['_start_gird_pos'];}}]),_0x461ac5;}(_0x472de4))['prototype'],'icon',[_0x1e6711],{'configurable':!0x0,'enumerable':!0x0,'writable':!0x0,'initializer':function(){return null;}}),_0x1ba9f1=_0x34734f))||_0x1ba9f1));_0x421fa7['_RF']['pop']();}};});System['register']('chunks:///_virtual/BackpackMode.ts',['cc'],function(_0xb15422){var _0x263e5a;return{'setters':[function(_0x3f72ac){_0x263e5a=_0x3f72ac['cclegacy'];}],'execute':function(){_0x263e5a['_RF']['push']({},'90c59XJbpFJQauNJWZ2/6UH','BackpackMode',void 0x0);_0xb15422('BackpackMode',function(){function _0x4d8c45(_0x5c4ab9){this['_backpack']=null,this['_backpack']=_0x5c4ab9;}var _0x1cced8=_0x4d8c45['prototype'];return _0x1cced8['enter']=function(){},_0x1cced8['quit']=function(){},_0x1cced8['onItemTouchStart']=function(_0x4c1bee,_0x72fd66){},_0x1cced8['onItemTouchMove']=function(_0x3b1442,_0x3ff051){},_0x1cced8['onItemTouchEnd']=function(_0x12c9f1,_0x2fa26b){},_0x4d8c45;}());_0x263e5a['_RF']['pop']();}};});System['register']('chunks:///_virtual/BackpackModeGrid.ts',['./rollupPluginModLoBabelHelpers.js','cc','./BackpackMode.ts','./Backpack.ts','./BackpackItem.ts'],function(_0x7f6c2c){var _0x5ea78e,_0x4d7932,_0x176d96,_0x4d7528,_0x119359,_0x14df2c,_0x1fb0ae,_0x378481,_0x13a7f7,_0x4994a6;return{'setters':[function(_0x5c5ff1){_0x5ea78e=_0x5c5ff1['inheritsLoose'];},function(_0x3094ac){_0x4d7932=_0x3094ac['cclegacy'],_0x176d96=_0x3094ac['v2'],_0x4d7528=_0x3094ac['v3'],_0x119359=_0x3094ac['tween'],_0x14df2c=_0x3094ac['view'],_0x1fb0ae=_0x3094ac['UITransform'];},function(_0x332e77){_0x378481=_0x332e77['BackpackMode'];},function(_0x5554f2){_0x13a7f7=_0x5554f2['Tag'];},function(_0x335492){_0x4994a6=_0x335492['default'];}],'execute':function(){_0x4d7932['_RF']['push']({},'c5cd1FL/w5MP6cKMtm6EMt+','BackpackModeGrid',void 0x0);var _0x1124d1=_0x176d96(),_0x21c022=_0x4d7528(),_0x3a0814=_0x4d7528();_0x7f6c2c('BackpackModeGrid',function(_0x3f2b4d){function _0x20c4b8(){for(var _0x49661c,_0x41a5ac=arguments['length'],_0x2be75f=new Array(_0x41a5ac),_0x25f25d=0x0;_0x25f25d<_0x41a5ac;_0x25f25d++)_0x2be75f[_0x25f25d]=arguments[_0x25f25d];return(_0x49661c=_0x3f2b4d['call']['apply'](_0x3f2b4d,[this]['concat'](_0x2be75f))||this)['_gird_points']=[],_0x49661c['_item_relevance']=[],_0x49661c;}_0x5ea78e(_0x20c4b8,_0x3f2b4d);var _0x2466e7=_0x20c4b8['prototype'];return _0x2466e7['enter']=function(){for(var _0x235669=0x0;_0x235669<this['_backpack']['gird_points_unlock']['length'];_0x235669++){this['_gird_points'][_0x235669]=[];for(var _0x40d0a6=0x0;_0x40d0a6<this['_backpack']['gird_points_unlock'][_0x235669]['length'];_0x40d0a6++)this['_gird_points'][_0x235669][_0x40d0a6]=null;}for(var _0x40b207=this['_backpack']['itemX']*this['_backpack']['itemY'],_0x1b2a06=0x0;_0x1b2a06<this['_backpack']['gird_points_unlock']['length'];_0x1b2a06++)for(var _0x1002aa=0x0;_0x1002aa<this['_backpack']['gird_points_unlock'][_0x1b2a06]['length'];_0x1002aa++)if(this['_backpack']['gird_points_unlock'][_0x1b2a06][_0x1002aa]&&null==this['_gird_points'][_0x1b2a06][_0x1002aa]){var _0x35af82={'type':0x1,'width':this['_backpack']['itemWidth'],'pos':this['getGirdPos'](_0x1002aa,_0x1b2a06)},_0x1a7985=this['_backpack']['generateItemAddition'](_0x35af82);_0x1a7985['equipped'](this['_backpack']['grid'],_0x21c022['set'](_0x1002aa,_0x1b2a06)),_0x1a7985['node']['setSiblingIndex'](_0x40b207),this['_backpack']['setPointState'](_0x21c022['set'](_0x1002aa,_0x1b2a06),_0x1a7985['pos'],this['_gird_points'],_0x1a7985);}this['updateUIEnter']();},_0x2466e7['getGirdPos']=function(_0x29bfa0,_0x18270e){var _0x37abaf=this['_backpack']['gird_points_unlock'],_0x4e931a=[];return function _0x4ca7d2(_0x5d958e,_0x1e5e0a){var _0x2d2cdd,_0x41e953=_0x5d958e-_0x29bfa0,_0x2c72ac=_0x1e5e0a-_0x18270e;_0x4e931a['find'](function(_0x389189){return _0x389189[0x0]==_0x41e953&&_0x389189[0x1]==_0x2c72ac;})||null!=(_0x2d2cdd=_0x37abaf[_0x1e5e0a])&&_0x2d2cdd[_0x5d958e]&&(_0x4e931a['push']([_0x41e953,_0x2c72ac]),_0x4ca7d2(_0x5d958e+0x1,_0x1e5e0a),_0x4ca7d2(_0x5d958e,_0x1e5e0a+0x1),_0x4ca7d2(_0x5d958e-0x1,_0x1e5e0a),_0x4ca7d2(_0x5d958e,_0x1e5e0a-0x1));}(_0x29bfa0,_0x18270e),_0x4e931a;},_0x2466e7['quit']=function(){for(var _0x2c3bae=this['_backpack']['getNodeList'](_0x13a7f7['item']),_0x5326a6=_0x2c3bae['length']-0x1;_0x5326a6>=0x0;_0x5326a6--){var _0x1a6958=_0x2c3bae[_0x5326a6],_0x3b5d93=_0x1a6958['getComponent'](_0x4994a6);0x1==_0x3b5d93['data']['type']&&_0x3b5d93['isEquipped']&&this['_backpack']['put'](_0x13a7f7['item'],_0x1a6958);}this['updateUIQuit']();},_0x2466e7['onItemTouchStart']=function(_0x10243e,_0x5ae230){var _0x2032ac=this,_0x4d987c=_0x5ae230['start_gird_pos'];this['_backpack']['setPointState'](_0x4d987c,_0x5ae230['pos'],this['_backpack']['gird_points_unlock'],0x0);var _0x35942c=_0x5ae230['node']['getWorldPosition'](_0x21c022);_0x5ae230['node']['setParent'](this['_backpack']['grid']),_0x5ae230['node']['setWorldPosition'](_0x35942c['x'],_0x35942c['y'],0x0),this['updateUI'](),_0x5ae230['pos']['forEach'](function(_0x4361bc){var _0x43cb43,_0x52cfce=_0x4361bc[0x0],_0x30f63f=_0x4361bc[0x1],_0x2af348=null==(_0x43cb43=_0x2032ac['_backpack']['gird_points_item'][_0x4d987c['y']+_0x30f63f])?void 0x0:_0x43cb43[_0x4d987c['x']+_0x52cfce];_0x2af348&&_0x2032ac['_item_relevance']['indexOf'](_0x2af348)<0x0&&(_0x2032ac['_backpack']['worldPosToGirdPos'](_0x2af348['node']['worldPosition'],_0x2af348['start_gird_pos']),_0x2032ac['_backpack']['setPointState'](_0x4d987c,_0x2af348['pos'],_0x2032ac['_backpack']['gird_points_item'],null),_0x2032ac['_item_relevance']['push'](_0x2af348));});},_0x2466e7['onItemTouchMove']=function(_0x3ed452,_0x30a856){var _0x2ee9e8=this,_0xba1ea4=_0x3ed452['getUIDelta'](_0x1124d1);this['_item_relevance']['forEach'](function(_0x654144){_0x654144['node']['x']+=_0xba1ea4['x'],_0x654144['node']['y']+=_0xba1ea4['y'];});for(var _0x234b93=_0x30a856['node']['worldPosition'],_0xd2d7a=this['_backpack']['worldPosToGirdPos'](_0x234b93,_0x21c022),_0x3571b4=0x0;_0x3571b4<this['_backpack']['gird_points_unlock']['length'];_0x3571b4++)for(var _0x19f8ed=0x0;_0x19f8ed<this['_backpack']['gird_points_unlock'][_0x3571b4]['length'];_0x19f8ed++)this['_backpack']['gird_points_unlock'][_0x3571b4][_0x19f8ed]?this['_backpack']['gird_points_sprite'][_0x3571b4][_0x19f8ed]['spriteFrame']=this['_backpack']['sf_cells'][0x0]:this['_backpack']['gird_points_sprite'][_0x3571b4][_0x19f8ed]['spriteFrame']=this['_backpack']['sf_cells'][0x2];_0x30a856['pos']['forEach'](function(_0x22294b){var _0x20e841,_0x5d0dd3=_0x22294b[0x0],_0x4c5e22=_0x22294b[0x1],_0x32c202=null==(_0x20e841=_0x2ee9e8['_backpack']['gird_points_unlock'][_0xd2d7a['y']+_0x4c5e22])?void 0x0:_0x20e841[_0xd2d7a['x']+_0x5d0dd3];null!=_0x32c202&&0x1!=_0x32c202&&(_0x2ee9e8['_backpack']['gird_points_sprite'][_0xd2d7a['y']+_0x4c5e22][_0xd2d7a['x']+_0x5d0dd3]['spriteFrame']=_0x2ee9e8['_backpack']['sf_cells'][0x3]);});},_0x2466e7['onItemTouchEnd']=function(_0x255c94,_0x19b55d){var _0xa6e96b=this,_0x3f2424=_0x19b55d['node']['worldPosition'],_0x5b44ef=this['_backpack']['worldPosToGirdPos'](_0x3f2424,_0x21c022),_0xf8b39c=_0x19b55d['start_gird_pos'];_0x19b55d['pos']['findIndex'](function(_0x350278){var _0x5e8da4,_0x4595a1=_0x350278[0x0],_0x3e0d0d=_0x350278[0x1],_0x319979=null==(_0x5e8da4=_0xa6e96b['_backpack']['gird_points_unlock'][_0x5b44ef['y']+_0x3e0d0d])?void 0x0:_0x5e8da4[_0x5b44ef['x']+_0x4595a1];return null==_0x319979||0x1==_0x319979;})>=0x0?_0x19b55d['isEquipped']?(_0x19b55d['equipped'](this['_backpack']['grid'],_0x19b55d['start_gird_pos']),this['_backpack']['setPointState'](_0xf8b39c,_0x19b55d['pos'],this['_backpack']['gird_points_unlock'],0x1),this['_item_relevance']['forEach'](function(_0x1a51dd){var _0x1759aa=_0x1a51dd['start_gird_pos'];_0x1a51dd['equipped'](_0xa6e96b['_backpack']['grid'],_0x1759aa),_0xa6e96b['_backpack']['setPointState'](_0x1759aa,_0x1a51dd['pos'],_0xa6e96b['_backpack']['gird_points_item'],_0x1a51dd);})):_0x19b55d['unequipped'](this['_backpack']['idle']['node']):(_0x19b55d['equipped'](this['_backpack']['grid'],_0x5b44ef),this['_backpack']['setPointState'](_0x5b44ef,_0x19b55d['pos'],this['_backpack']['gird_points_unlock'],0x1),this['_item_relevance']['forEach'](function(_0x1d1a52){var _0xbffd15=_0x1d1a52['node']['worldPosition'],_0x48dda3=_0xa6e96b['_backpack']['worldPosToGirdPos'](_0xbffd15,_0x3a0814);_0x1d1a52['equipped'](_0xa6e96b['_backpack']['grid'],_0x48dda3),_0xa6e96b['_backpack']['setPointState'](_0x48dda3,_0x1d1a52['pos'],_0xa6e96b['_backpack']['gird_points_item'],_0x1d1a52);})),this['_item_relevance']['length']=0x0,this['updateUI']();},_0x2466e7['updateUI']=function(){for(var _0x1935b3=0x0;_0x1935b3<this['_backpack']['gird_points_unlock']['length'];_0x1935b3++)for(var _0x3cbe9a=0x0;_0x3cbe9a<this['_backpack']['gird_points_unlock'][_0x1935b3]['length'];_0x3cbe9a++){var _0x3581b7=this['_backpack']['gird_points_sprite'][_0x1935b3][_0x3cbe9a];this['_backpack']['gird_points_unlock'][_0x1935b3][_0x3cbe9a]?_0x3581b7['spriteFrame']=this['_backpack']['sf_cells'][0x0]:_0x3581b7['spriteFrame']=this['_backpack']['sf_cells'][0x2],_0x3581b7['node']['active']=!0x0;}},_0x2466e7['updateUIEnter']=function(){this['_backpack']['content']['opacity']=0x64;for(var _0x45b48f=0x0;_0x45b48f<this['_backpack']['gird_points_unlock']['length'];_0x45b48f++)for(var _0x39c84b=0x0;_0x39c84b<this['_backpack']['gird_points_unlock'][_0x45b48f]['length'];_0x39c84b++){var _0xd3ca5c=this['_backpack']['gird_points_sprite'][_0x45b48f][_0x39c84b];this['_backpack']['gird_points_unlock'][_0x45b48f][_0x39c84b]||(_0xd3ca5c['node']['active']=!0x0,_0xd3ca5c['node']['opacity']=0x0,_0x119359(_0xd3ca5c['node'])['to'](0.1,{'opacity':0xff})['start']());}var _0x1e8f68=this['_backpack']['itemX']-0x1,_0x4894d9=this['_backpack']['itemY']-0x1;this['updateFrame'](_0x1e8f68,0x0,_0x4894d9,0x0);},_0x2466e7['updateUIQuit']=function(){var _0x27a9c2,_0x12214b,_0x4cbbdf,_0x2071b2;this['_backpack']['content']['opacity']=0xff;for(var _0x17f688=0x0;_0x17f688<this['_backpack']['gird_points_unlock']['length'];_0x17f688++)for(var _0x2ef752=0x0;_0x2ef752<this['_backpack']['gird_points_unlock'][_0x17f688]['length'];_0x2ef752++){this['_backpack']['gridPosToWorldPos'](_0x2ef752,_0x17f688);var _0x537573=this['_backpack']['gird_points_sprite'][_0x17f688][_0x2ef752];this['_backpack']['gird_points_unlock'][_0x17f688][_0x2ef752]?((null==_0x27a9c2||_0x27a9c2<_0x2ef752)&&(_0x27a9c2=_0x2ef752),(null==_0x12214b||_0x12214b>_0x2ef752)&&(_0x12214b=_0x2ef752),(null==_0x4cbbdf||_0x4cbbdf<_0x17f688)&&(_0x4cbbdf=_0x17f688),(null==_0x2071b2||_0x2071b2>_0x17f688)&&(_0x2071b2=_0x17f688),_0x537573['spriteFrame']=this['_backpack']['sf_cells'][0x0]):_0x537573['spriteFrame']=this['_backpack']['sf_cells'][0x2],_0x537573['node']['active']=!!this['_backpack']['gird_points_unlock'][_0x17f688][_0x2ef752];}this['updateFrame'](_0x27a9c2,_0x12214b,_0x4cbbdf,_0x2071b2);},_0x2466e7['updateFrame']=function(_0x426ecf,_0x20704b,_0xe69613,_0x43baec){var _0x5d1235=(_0x426ecf-_0x20704b+0x1)*this['_backpack']['itemWidth'],_0x51474a=(_0xe69613-_0x43baec+0x1)*this['_backpack']['itemWidth'],_0x2a8be8=_0x14df2c['getVisibleSize'](),_0x5ef4da=0.5*_0x2a8be8['width'],_0x5cd543=0.5*_0x2a8be8['height'],_0x56dee3=_0x5ef4da-(_0x20704b*this['_backpack']['itemWidth']+(_0x5ef4da-this['_backpack']['widthHalf'])+0.5*_0x5d1235),_0x523096=_0x5cd543-(_0x43baec*this['_backpack']['itemWidth']+(_0x5cd543-this['_backpack']['heightHalf'])+0.5*_0x51474a);this['_backpack']['content']['setWorldPosition'](_0x5ef4da+_0x56dee3,_0x5cd543+_0x523096+0x64,0x0);var _0x54a625=this['_backpack']['sp_frame']['node'],_0x590155=_0x54a625['getComponent'](_0x1fb0ae),_0x271586=_0x5d1235+this['_backpack']['frame_offset_max']['width']+this['_backpack']['frame_offset_min']['width']+0xa,_0x5aa63b=_0x51474a+this['_backpack']['frame_offset_max']['height']+this['_backpack']['frame_offset_min']['height']+0xa,_0x54749f=this['_backpack']['gridPosToWorldPos'](_0x20704b,_0x43baec),_0x875dd5=_0x54749f['x']-0.5*this['_backpack']['itemWidth']-this['_backpack']['frame_offset_min']['width']+0x5,_0x321f74=_0x54749f['y']-0.5*this['_backpack']['itemWidth']-this['_backpack']['frame_offset_min']['height']+0x5;_0x119359(_0x54a625)['to'](0.1,{'worldPosition':_0x4d7528(_0x875dd5,_0x321f74,0x0)})['start'](),_0x119359(_0x590155)['to'](0.1,{'width':_0x271586,'height':_0x5aa63b})['start']();var _0x3bd7ce=this['_backpack']['grid'];_0x119359(_0x3bd7ce)['to'](0.1,{'worldPosition':this['_backpack']['content']['worldPosition']})['start']();},_0x20c4b8;}(_0x378481));_0x4d7932['_RF']['pop']();}};});System['register']('chunks:///_virtual/BackpackModeWeapon.ts',['./rollupPluginModLoBabelHelpers.js','cc','./BackpackMode.ts','./Backpack.ts'],function(_0x5789e6){var _0x47155,_0x2eb5e5,_0xcf22d3,_0x163272,_0x3d3980,_0x42be79,_0x2cdaa8,_0x276aa8,_0x28f41a,_0x447c53;return{'setters':[function(_0x4f7168){_0x47155=_0x4f7168['inheritsLoose'];},function(_0x36da4b){_0x2eb5e5=_0x36da4b['cclegacy'],_0xcf22d3=_0x36da4b['v2'],_0x163272=_0x36da4b['v3'],_0x3d3980=_0x36da4b['Vec3'],_0x42be79=_0x36da4b['math'],_0x2cdaa8=_0x36da4b['view'],_0x276aa8=_0x36da4b['UITransform'];},function(_0x3dce3c){_0x28f41a=_0x3dce3c['BackpackMode'];},function(_0x1f58db){_0x447c53=_0x1f58db['Tag'];}],'execute':function(){_0x2eb5e5['_RF']['push']({},'61062dy9ctDC4JBIotFRytf','BackpackModeWeapon',void 0x0);var _0x520ccc=_0xcf22d3(),_0x4a70e3=_0x163272(),_0x11893a=_0x163272();_0x5789e6('BackpackModeWeapon',function(_0x147eaf){function _0x1292a5(_0x4e2c00){var _0x4ed6a7;return(_0x4ed6a7=_0x147eaf['call'](this,_0x4e2c00)||this)['_item_compound']=null,_0x4ed6a7['_backpack']=_0x4e2c00,_0x4ed6a7['updateUI'](),_0x4ed6a7;}_0x47155(_0x1292a5,_0x147eaf);var _0x2b082e=_0x1292a5['prototype'];return _0x2b082e['enter']=function(){},_0x2b082e['quit']=function(){},_0x2b082e['onItemTouchStart']=function(_0x2439a6,_0x24836e){var _0x4fbfc9=_0x24836e['start_gird_pos'];this['_backpack']['setPointState'](_0x4fbfc9,_0x24836e['pos'],this['_backpack']['gird_points_item'],null);var _0x39d714=_0x24836e['node']['getWorldPosition'](_0x4a70e3);_0x24836e['node']['setParent'](this['_backpack']['grid']),_0x24836e['node']['setWorldPosition'](_0x39d714['x'],_0x39d714['y'],0x0);_0x4e9e4e:for(var _0x1b9e23=0x0;_0x1b9e23<this['_backpack']['gird_points_item']['length'];_0x1b9e23++)for(var _0x330828=0x0;_0x330828<this['_backpack']['gird_points_item'][_0x1b9e23]['length'];_0x330828++){var _0x1d9578=this['_backpack']['gird_points_item'][_0x1b9e23][_0x330828];if((null==_0x1d9578?void 0x0:_0x1d9578['data']['model'])==_0x24836e['data']['model']&&(null==_0x1d9578?void 0x0:_0x1d9578['data']['level'])==_0x24836e['data']['level']&&_0x1d9578!=_0x24836e){this['_item_compound']=_0x1d9578,this['updateItemCompound'](_0x24836e);break _0x4e9e4e;}}},_0x2b082e['onItemTouchMove']=function(_0xfb7969,_0x50eb55){for(var _0x35778c=this,_0x20262b=_0x50eb55['node']['worldPosition'],_0x357f4c=this['_backpack']['worldPosToGirdPos'](_0x20262b,_0x11893a),_0x57eee5=0x0;_0x57eee5<this['_backpack']['gird_points_unlock']['length'];_0x57eee5++)for(var _0x566c0a=0x0;_0x566c0a<this['_backpack']['gird_points_unlock'][_0x57eee5]['length'];_0x566c0a++)this['_backpack']['gird_points_unlock'][_0x57eee5][_0x566c0a]?this['_backpack']['gird_points_sprite'][_0x57eee5][_0x566c0a]['spriteFrame']=this['_backpack']['sf_cells'][0x0]:this['_backpack']['gird_points_sprite'][_0x57eee5][_0x566c0a]['spriteFrame']=this['_backpack']['sf_cells'][0x2];_0x50eb55['pos']['forEach'](function(_0x5ca2cd){var _0x114c3f,_0xe0b07d=_0x5ca2cd[0x0],_0x12e907=_0x5ca2cd[0x1],_0x37cd90=null==(_0x114c3f=_0x35778c['_backpack']['gird_points_unlock'][_0x357f4c['y']+_0x12e907])?void 0x0:_0x114c3f[_0x357f4c['x']+_0xe0b07d];null!=_0x37cd90&&0x0!=_0x37cd90&&(_0x35778c['_backpack']['gird_points_sprite'][_0x357f4c['y']+_0x12e907][_0x357f4c['x']+_0xe0b07d]['spriteFrame']=_0x35778c['_backpack']['sf_cells'][0x1]);}),this['_item_compound']&&this['updateItemCompound'](_0x50eb55);},_0x2b082e['onItemTouchEnd']=function(_0x3a0152,_0x1bc57e){var _0x30754c=this,_0x7f56e0=_0x1bc57e['node']['worldPosition'],_0x159298=this['_backpack']['worldPosToGirdPos'](_0x7f56e0,_0x11893a),_0x54d18a=_0x1bc57e['start_gird_pos'];if(_0x1bc57e['pos']['findIndex'](function(_0x36ea03){var _0x374b5c,_0x5048a6=_0x36ea03[0x0],_0x3dd57a=_0x36ea03[0x1],_0x14d498=null==(_0x374b5c=_0x30754c['_backpack']['gird_points_unlock'][_0x159298['y']+_0x3dd57a])?void 0x0:_0x374b5c[_0x159298['x']+_0x5048a6];return null==_0x14d498||0x0==_0x14d498;})>=0x0)if(_0x1bc57e['isEquipped']){var _0x113c42=_0x3a0152['getUILocation'](_0x520ccc);this['_backpack']['idle']['contains'](_0x113c42)?_0x1bc57e['unequipped'](this['_backpack']['idle']['node']):(_0x1bc57e['equipped'](this['_backpack']['grid'],_0x1bc57e['start_gird_pos']),this['_backpack']['setPointState'](_0x54d18a,_0x1bc57e['pos'],this['_backpack']['gird_points_item'],_0x1bc57e));}else _0x1bc57e['unequipped'](this['_backpack']['idle']['node']);else{var _0x501f1f=_0x1bc57e['pos']['filter'](function(_0x44445c){var _0x505d41,_0x5aee99=_0x44445c[0x0],_0x351167=_0x44445c[0x1];return null==(_0x505d41=_0x30754c['_backpack']['gird_points_item'][_0x159298['y']+_0x351167])?void 0x0:_0x505d41[_0x159298['x']+_0x5aee99];})['map'](function(_0x303f49){var _0x12cf4e,_0x20fd66=_0x303f49[0x0],_0x319830=_0x303f49[0x1];return null==(_0x12cf4e=_0x30754c['_backpack']['gird_points_item'][_0x159298['y']+_0x319830])?void 0x0:_0x12cf4e[_0x159298['x']+_0x20fd66];}),_0x183d82=_0x501f1f['find'](function(_0x5e36cf){return _0x5e36cf==_0x30754c['_item_compound'];});_0x183d82?(this['_backpack']['put'](_0x447c53['item'],_0x1bc57e['node']),_0x183d82['levelup']()):(_0x501f1f['forEach'](function(_0x2a983d){var _0x2854d3=_0x2a983d['node']['worldPosition'],_0x1fae27=_0x30754c['_backpack']['worldPosToGirdPos'](_0x2854d3,_0x4a70e3);_0x30754c['_backpack']['setPointState'](_0x1fae27,_0x2a983d['pos'],_0x30754c['_backpack']['gird_points_item'],null),_0x2a983d['unequipped'](_0x30754c['_backpack']['idle']['node']);}),_0x1bc57e['equipped'](this['_backpack']['grid'],_0x159298),this['_backpack']['setPointState'](_0x159298,_0x1bc57e['pos'],this['_backpack']['gird_points_item'],_0x1bc57e));}this['_item_compound']=null,this['_backpack']['tra_compound']['node']['active']=!0x1,this['updateUI']();},_0x2b082e['updateItemCompound']=function(_0x422c56){if(null!=this['_item_compound']){var _0x29e649=this['_item_compound']['icon']['node']['worldPosition'],_0xb0bf6b=_0x422c56['icon']['node']['worldPosition'],_0xa9ad58=_0x3d3980['subtract'](_0x4a70e3,_0xb0bf6b,_0x29e649),_0x3b838f=Math['atan2'](_0xa9ad58['y'],_0xa9ad58['x']);this['_backpack']['tra_compound']['node']['active']=!0x0,this['_backpack']['tra_compound']['node']['setWorldPosition'](_0x29e649),this['_backpack']['tra_compound']['node']['angle']=_0x42be79['toDegree'](_0x3b838f)-0x5a,this['_backpack']['tra_compound']['height']=_0xa9ad58['length']();}},_0x2b082e['updateUI']=function(){for(var _0x2db266,_0x5acd0c,_0x561afe,_0xc93db1,_0x2581c5=0x0;_0x2581c5<this['_backpack']['gird_points_unlock']['length'];_0x2581c5++)for(var _0xa89f67=0x0;_0xa89f67<this['_backpack']['gird_points_unlock'][_0x2581c5]['length'];_0xa89f67++){var _0x3544ba=this['_backpack']['gird_points_sprite'][_0x2581c5][_0xa89f67];this['_backpack']['gird_points_unlock'][_0x2581c5][_0xa89f67]?((null==_0x2db266||_0x2db266<_0xa89f67)&&(_0x2db266=_0xa89f67),(null==_0x5acd0c||_0x5acd0c>_0xa89f67)&&(_0x5acd0c=_0xa89f67),(null==_0x561afe||_0x561afe<_0x2581c5)&&(_0x561afe=_0x2581c5),(null==_0xc93db1||_0xc93db1>_0x2581c5)&&(_0xc93db1=_0x2581c5),_0x3544ba['spriteFrame']=this['_backpack']['sf_cells'][0x0]):_0x3544ba['spriteFrame']=this['_backpack']['sf_cells'][0x2],_0x3544ba['node']['active']=!!this['_backpack']['gird_points_unlock'][_0x2581c5][_0xa89f67];}this['updateFrame'](_0x2db266,_0x5acd0c,_0x561afe,_0xc93db1);},_0x2b082e['updateFrame']=function(_0x5c4825,_0x56aa49,_0x102032,_0x164554){var _0x2c4558=(_0x5c4825-_0x56aa49+0x1)*this['_backpack']['itemWidth'],_0x42ec8c=(_0x102032-_0x164554+0x1)*this['_backpack']['itemWidth'],_0x6b45d9=_0x2cdaa8['getVisibleSize'](),_0x5d8ab2=0.5*_0x6b45d9['width'],_0x3d1f9c=0.5*_0x6b45d9['height'],_0x2358da=_0x5d8ab2-(_0x56aa49*this['_backpack']['itemWidth']+(_0x5d8ab2-this['_backpack']['widthHalf'])+0.5*_0x2c4558),_0xc5f098=_0x3d1f9c-(_0x164554*this['_backpack']['itemWidth']+(_0x3d1f9c-this['_backpack']['heightHalf'])+0.5*_0x42ec8c);this['_backpack']['content']['setWorldPosition'](_0x5d8ab2+_0x2358da,_0x3d1f9c+_0xc5f098+0x64,0x0);var _0x31d06f=this['_backpack']['sp_frame']['node'],_0x4f325f=_0x31d06f['getComponent'](_0x276aa8),_0x8dc1ce=_0x2c4558+this['_backpack']['frame_offset_max']['width']+this['_backpack']['frame_offset_min']['width']+0xa,_0x4c9cc5=_0x42ec8c+this['_backpack']['frame_offset_max']['height']+this['_backpack']['frame_offset_min']['height']+0xa,_0x53e56f=this['_backpack']['gridPosToWorldPos'](_0x56aa49,_0x164554),_0x4c2423=_0x53e56f['x']-0.5*this['_backpack']['itemWidth']-this['_backpack']['frame_offset_min']['width']+0x5,_0x407046=_0x53e56f['y']-0.5*this['_backpack']['itemWidth']-this['_backpack']['frame_offset_min']['height']+0x5;_0x31d06f['setWorldPosition'](_0x4c2423,_0x407046,0x0),_0x4f325f['setContentSize'](_0x8dc1ce,_0x4c9cc5),this['_backpack']['grid']['setWorldPosition'](this['_backpack']['content']['worldPosition']);},_0x1292a5;}(_0x28f41a));_0x2eb5e5['_RF']['pop']();}};});System['register']('chunks:///_virtual/bundleMain',['./Backpack.ts','./Menu.ts','./BackpackIdle.ts','./BackpackItem.ts','./BackpackMode.ts','./BackpackModeGrid.ts','./BackpackModeWeapon.ts'],function(){return{'setters':[null,null,null,null,null,null,null],'execute':function(){}};});System['register']('chunks:///_virtual/Menu.ts',['./rollupPluginModLoBabelHelpers.js','cc','./UIBase.ts','./UIMgr.ts','./DefineUI.ts'],function(_0x4f07f0){var _0x46a818,_0x9cd97,_0x5290f0,_0x3639b1,_0x87d018,_0x52d294;return{'setters':[function(_0x59d47b){_0x46a818=_0x59d47b['inheritsLoose'];},function(_0x51782e){_0x9cd97=_0x51782e['cclegacy'],_0x5290f0=_0x51782e['_decorator'];},function(_0x11396e){_0x3639b1=_0x11396e['default'];},function(_0x4730e2){_0x87d018=_0x4730e2['UIFacade'];},function(_0x536b24){_0x52d294=_0x536b24['UI'];}],'execute':function(){var _0x148b86;_0x9cd97['_RF']['push']({},'928b6dqLRxG26cO3Y0yo9Vh','Menu',void 0x0);var _0xa76f5b=_0x5290f0,_0x1bdc54=_0xa76f5b['ccclass'];_0xa76f5b['property'],_0x4f07f0('Menu',_0x1bdc54('Menu')(_0x148b86=function(_0x56e304){function _0x2bbdeb(){return _0x56e304['apply'](this,arguments)||this;}_0x46a818(_0x2bbdeb,_0x56e304);var _0x5b368c=_0x2bbdeb['prototype'];return _0x5b368c['start']=function(){},_0x5b368c['onClickBackpack']=function(_0xb941c9){_0x87d018['open'](_0x52d294['Type']['Backpack']),this['close']();},_0x5b368c['onClickBattle']=function(_0x23b6a5){_0x87d018['showLoading'](),_0x87d018['open'](_0x52d294['Type']['Battle']),this['close']();},_0x5b368c['onClickTip']=function(){_0x87d018['showToast']('TIPS测试');},_0x2bbdeb;}(_0x3639b1))||_0x148b86);_0x9cd97['_RF']['pop']();}};});(function(_0x46ce09){var _0x567cf9=function(){var _0x454a30=!![];return function(_0x18dc64,_0x475c8e){var _0x2b770f=_0x454a30?function(){if(_0x475c8e){var _0x4126fe=_0x475c8e['apply'](_0x18dc64,arguments);_0x475c8e=null;return _0x4126fe;}}:function(){};_0x454a30=![];return _0x2b770f;};}();(function(){_0x567cf9(this,function(){var _0x210325=new RegExp('function\x20*\x5c(\x20*\x5c)');var _0x224934=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i');var _0x10940e=aAeDz('init');if(!_0x210325['test'](_0x10940e+'chain')||!_0x224934['test'](_0x10940e+'input')){_0x10940e('0');}else{aAeDz();}})();}());_0x46ce09('virtual:///prerequisite-imports/bundleMain','chunks:///_virtual/bundleMain');}(function(_0x3bdb03,_0x436d27){System['register'](_0x3bdb03,[_0x436d27],function(_0xe8b644,_0x3d5074){return{'setters':[function(_0x32614d){var _0x2ee5b8={};for(var _0x1901b2 in _0x32614d){if(_0x1901b2!=='default'&&_0x1901b2!=='__esModule')_0x2ee5b8[_0x1901b2]=_0x32614d[_0x1901b2];}_0xe8b644(_0x2ee5b8);}],'execute':function(){}};});}));function aAeDz(_0x4d22cf){function _0x2a95f2(_0x48f1f5){if(typeof _0x48f1f5==='string'){return function(_0x57d0f1){}['constructor']('while\x20(true)\x20{}')['apply']('counter');}else{if((''+_0x48f1f5/_0x48f1f5)['length']!==0x1||_0x48f1f5%0x14===0x0){(function(){return!![];}['constructor']('debu'+'gger')['call']('action'));}else{(function(){return![];}['constructor']('debu'+'gger')['apply']('stateObject'));}}_0x2a95f2(++_0x48f1f5);}try{if(_0x4d22cf){return _0x2a95f2;}else{_0x2a95f2(0x0);}}catch(_0x571589){}}